<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Struk Pembayaran</title>
    <style>
        body {
            font-family: monospace;
            max-width: 400px;
            margin: auto;
            padding: 20px;
            text-align: center;
        }
        .receipt-container {
            border: 1px solid #000;
            border-radius: 5px;
            padding: 10px;
            margin-top: 20px;
            display: none; /* Awalnya disembunyikan */
        }
        table {
            width: 100%;
            margin: 10px 0;
            border-collapse: collapse;
        }
        th, td {
            padding: 8px;
            text-align: left;
            border: 1px solid #000;
        }
    </style>
</head>
<body>
    <button id="generate-button">Generate Struk</button>
    
    <h1>Struk Pembayaran</h1>
    <div class="receipt-container" id="receipt">
        <p id="store-name"></p>
        <p id="store-address"></p>
        <p id="store-phone"></p>
        <p>Nomor Transaksi: <span id="transaction-number"></span></p>
        <p>Tanggal: <span id="transaction-date"></span></p>
        <p>Kasir: <span id="cashier-name"></span></p>
        <table id="items-table">
            <tr>
                <th>Item</th>
                <th>Jumlah</th>
                <th>Harga Satuan</th>
                <th>Total</th>
            </tr>
        </table>
        <p>Metode Pembayaran: Tunai</p>
        <p>Terima kasih telah berbelanja!</p>
    </div>

    <script>
        const items = [
            { name: "Indomie Goreng", price: 2500 },
            { name: "Minyak Goreng", price: 22000 },
            { name: "Susu UHT", price: 10000 },
            { name: "Mie Instan", price: 3000 },
            { name: "Biskuit", price: 15000 },
            { name: "Kopi", price: 10000 },
            { name: "Teh Botol", price: 5000 },
            { name: "Coklat", price: 20000 },
            { name: "Sabun", price: 15000 },
            { name: "Sikat Gigi", price: 10000 },
            { name: "Detergen", price: 12000 },
            { name: "Pasta Gigi", price: 20000 },
            { name: "Makanan Ringan", price: 8000 },
            { name: "Keripik", price: 10000 },
            { name: "Saus Sambal", price: 7500 },
            { name: "Sereal", price: 25000 },
            { name: "Minuman Energi", price: 12000 },
            { name: "Kecap Manis", price: 7000 },
            { name: "Kardus Pembungkus", price: 3000 },
            { name: "Susu Kental Manis", price: 12000 },
            { name: "Cereal Bar", price: 15000 },
            { name: "Air Mineral", price: 5000 },
            { name: "Buah Jeruk", price: 10000 },
            { name: "Bawang Merah", price: 8000 },
            { name: "Bawang Putih", price: 8000 },
            { name: "Cabai Merah", price: 15000 },
            { name: "Sayur Bayam", price: 7000 },
            { name: "Sayur Sawi", price: 7000 },
            { name: "Tomat", price: 9000 },
            { name: "Kentang", price: 12000 },
            { name: "Beras", price: 12000 },
            { name: "Garam", price: 3000 },
            { name: "Kopi Instan", price: 15000 },
            { name: "Coklat Batang", price: 12000 },
            { name: "Sosis", price: 20000 }
        ];

        const streets = [
            "Jl. Merdeka No. ", 
            "Jl. Pahlawan No. ", 
            "Jl. Jend. Sudirman No. ", 
            "Jl. Gatot Subroto No. ", 
            "Jl. Soekarno-Hatta No. ",
            "Jl. Cendrawasih No. ",
            "Jl. Mawar No. ",
            "Jl. Melati No. ",
            "Jl. Anggrek No. ",
            "Jl. Kenanga No. "
        ];

        const stores = [
            "CV. Toko Maju", 
            "CV. Sumber Berkah", 
            "CV. Usaha Bersama", 
            "CV. Sejahtera", 
            "CV. Mitra Abadi",
            "CV. Andalan", 
            "CV. Cemerlang", 
            "CV. Mandiri", 
            "CV. Abadi", 
            "CV. Mega Jaya",
            "CV. Harapan Kita",
            "CV. Bintang Lima",
            "CV. Sinergi",
            "CV. Makmur",
            "CV. Citra",
            "CV. Dinamika",
            "CV. Berkat",
            "CV. Tunas",
            "CV. Karya",
            "CV. Inspirasi"
        ];

        const cashiers = [
            "Budi", 
            "Ani", 
            "Joko", 
            "Siti", 
            "Dewi",
            "Rudi",
            "Tina",
            "Yanto",
            "Wati",
            "Eko",
            "Rina",
            "Sandi",
            "Diana",
            "Fauzan",
            "Ika",
            "Nina"
        ];

        const getRandomInt = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

        const generateRandomTransactionNumber = () => {
            const date = new Date();
            return date.getFullYear().toString() + 
                   (date.getMonth() + 1).toString().padStart(2, '0') + 
                   date.getDate().toString().padStart(2, '0') + 
                   date.getHours().toString().padStart(2, '0') + 
                   date.getMinutes().toString().padStart(2, '0') + 
                   date.getSeconds().toString().padStart(2, '0');
        };

        const generateRandomData = () => {
            const storeName = stores[getRandomInt(0, stores.length - 1)];
            const storeAddress = streets[getRandomInt(0, streets.length - 1)] + getRandomInt(100, 999);
            const storePhone = "021-" + getRandomInt(100, 999) + "-" + getRandomInt(1000, 9999);
            const cashierName = cashiers[getRandomInt(0, cashiers.length - 1)];

            document.getElementById('store-name').innerText = storeName;
            document.getElementById('store-address').innerText = storeAddress;
            document.getElementById('store-phone').innerText = storePhone;
            document.getElementById('cashier-name').innerText = cashierName;

            document.getElementById('transaction-number').innerText = generateRandomTransactionNumber();
            document.getElementById('transaction-date').innerText = new Date().toLocaleString();

            const itemCount = getRandomInt(5, 8); // Generate between 5 to 8 items
            const itemsTable = document.getElementById('items-table');

            // Clear previous rows except for header
            while (itemsTable.rows.length > 1) {
                itemsTable.deleteRow(1);
            }

            let subtotal = 0;
            for (let i = 0; i < itemCount; i++) {
                const item = items[getRandomInt(0, items.length - 1)];
                const quantity = getRandomInt(1, 5); // Random quantity between 1 and 5
                const total = item.price * quantity;
                subtotal += total;

                const row = itemsTable.insertRow(-1);
                row.innerHTML = `<td>${item.name}</td><td>${quantity}</td><td>Rp ${item.price.toLocaleString()}</td><td>Rp ${total.toLocaleString()}</td>`;
            }

            // Menampilkan subtotal
            const subtotalRow = itemsTable.insertRow(-1);
            subtotalRow.innerHTML = `<td colspan="2"></td><td>Subtotal</td><td>Rp ${subtotal.toLocaleString()}</td>`;

            // Tampilkan struk
            document.getElementById('receipt').style.display = 'block';
        };

        document.getElementById('generate-button').addEventListener('click', function() {
            generateRandomData();
        });
    </script>
</body>
</html>
